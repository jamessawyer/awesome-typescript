import{_ as s,c as n,o as a,b as l}from"./app.69ace8b7.js";const A=JSON.parse('{"title":"Mixins","description":"","frontmatter":{"title":"Mixins"},"headers":[{"level":2,"title":"1ï¸âƒ£ Mixinæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ","slug":"_1ï¸âƒ£-mixinæ˜¯å¦‚ä½•å·¥ä½œçš„","link":"#_1ï¸âƒ£-mixinæ˜¯å¦‚ä½•å·¥ä½œçš„","children":[]},{"level":2,"title":"2ï¸âƒ£ çº¦æŸMixins","slug":"_2ï¸âƒ£-çº¦æŸmixins","link":"#_2ï¸âƒ£-çº¦æŸmixins","children":[]},{"level":2,"title":"3ï¸âƒ£ ğŸš€ å¦ä¸€ç§æ›¿æ¢çš„æ¨¡å¼","slug":"_3ï¸âƒ£-ğŸš€-å¦ä¸€ç§æ›¿æ¢çš„æ¨¡å¼","link":"#_3ï¸âƒ£-ğŸš€-å¦ä¸€ç§æ›¿æ¢çš„æ¨¡å¼","children":[]},{"level":2,"title":"4ï¸âƒ£ é™åˆ¶","slug":"_4ï¸âƒ£-é™åˆ¶","link":"#_4ï¸âƒ£-é™åˆ¶","children":[{"level":3,"title":"4.1 è£…é¥°å™¨å’ŒMixins","slug":"_4-1-è£…é¥°å™¨å’Œmixins","link":"#_4-1-è£…é¥°å™¨å’Œmixins","children":[]},{"level":3,"title":"4.2 é™æ€å±æ€§Mixins","slug":"_4-2-é™æ€å±æ€§mixins","link":"#_4-2-é™æ€å±æ€§mixins","children":[]}]}],"relativePath":"ts/reference/mixins.md","lastUpdated":1677750048000}'),p={name:"ts/reference/mixins.md"},o=l(`<nav class="table-of-contents"><ul><li><a href="#_1ï¸âƒ£-mixinæ˜¯å¦‚ä½•å·¥ä½œçš„">1ï¸âƒ£ Mixinæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</a></li><li><a href="#_2ï¸âƒ£-çº¦æŸmixins">2ï¸âƒ£ çº¦æŸMixins</a></li><li><a href="#_3ï¸âƒ£-ğŸš€-å¦ä¸€ç§æ›¿æ¢çš„æ¨¡å¼">3ï¸âƒ£ ğŸš€ å¦ä¸€ç§æ›¿æ¢çš„æ¨¡å¼</a></li><li><a href="#_4ï¸âƒ£-é™åˆ¶">4ï¸âƒ£ é™åˆ¶</a><ul><li><a href="#_4-1-è£…é¥°å™¨å’Œmixins">4.1 è£…é¥°å™¨å’ŒMixins</a></li><li><a href="#_4-2-é™æ€å±æ€§mixins">4.2 é™æ€å±æ€§Mixins</a></li></ul></li></ul></nav><p>é™¤äº†ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡å±‚æ¬¡ç»“æ„ï¼Œä»å¯é‡ç”¨ç»„ä»¶æ„å»ºç±»çš„å¦ä¸€ç§æµè¡Œæ–¹æ³•æ˜¯é€šè¿‡<code>ç»„åˆ</code>æ›´ç®€å•çš„éƒ¨åˆ†ç±»æ¥æ„å»ºç±»ã€‚ä½ å¯èƒ½ç†Ÿæ‚‰Scaleç±»ä¼¼è¯­è¨€çš„mixinsæˆ–traitsç‰¹æ€§ï¼Œè¿™ç§æ¨¡å¼åœ¨JavaScriptä¸­ä¹Ÿå¾ˆæµè¡Œã€‚</p><h2 id="_1ï¸âƒ£-mixinæ˜¯å¦‚ä½•å·¥ä½œçš„" tabindex="-1">1ï¸âƒ£ Mixinæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ <a class="header-anchor" href="#_1ï¸âƒ£-mixinæ˜¯å¦‚ä½•å·¥ä½œçš„" aria-hidden="true">#</a></h2><p>è¯¥æ¨¡å¼ä¾èµ–äºä½¿ç”¨æ³›å‹å’Œç±»ç»§æ‰¿æ¥æ‰©å±•åŸºç±»ã€‚TypeScripté€šè¿‡ç±»è¡¨è¾¾å¼æ¨¡å¼å¯¹mixinæä¾›æœ€ä½³æ”¯æŒã€‚ä½ å¯ä»¥é˜…è¯» <a href="https://justinfagnani.com/2015/12/21/real-mixins-with-javascript-classes/" target="_blank" rel="noreferrer">è¿™é‡Œ</a> äº†è§£è¯¥æ¨¡å¼å¦‚ä½•åœ¨JavaScriptä¸­è¿ä½œã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå°†mixinsåº”ç”¨åˆ°è¯¥ç±»ä¸Šï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Sprite</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">x</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">y</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>ç„¶åä½ éœ€è¦ä¸€ä¸ªç±»å‹ï¼Œå’Œä¸€ä¸ªç»§æ‰¿åŸºç±»çš„ç±»è¡¨è¾¾å¼ï¼ˆå³ <code>è¿”å›å¦ä¸€ä¸ªç±»çš„é«˜é˜¶å‡½æ•°</code>ï¼‰ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç±»å‹ï¼Œç”¨äºè¢«å…¶å®ƒç±»æ‰©å±•</span></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// ğŸ¤©è¿™é‡Œçš„ Constructor æœ€è¦ç”¨äºçº¦æŸä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªç±»</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Constructor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è¿™ä¸ª mixin æ·»åŠ ä¸€ä¸ª scale å±æ€§</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨getters &amp; setters æ”¹å˜å°è£…çš„ç§æœ‰å±æ€§</span></span>
<span class="line highlighted"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Scale</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">TBase</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Constructor</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#A6ACCD;font-style:italic;">Base</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TBase</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Scaling</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">extends</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Base</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// Mixins å¯èƒ½ä¸ä¼šå£°æ˜ private|protected å±æ€§</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ä½†æ˜¯ä½ å¯ä»¥ä½¿ç”¨ES2020ç§æœ‰å­—æ®µ å³  #scale çš„å½¢å¼</span></span>
<span class="line"><span style="color:#F07178;">    _scale </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    _setScale</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">scale</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_scale</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scale</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">get</span><span style="color:#F07178;"> scale</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_scale</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>è®¾ç½®å¥½è¿™ä¸€åˆ‡ä¹‹åï¼Œä½ å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªåº”ç”¨äº†åŸºç±»çš„Mixinçš„ç±»ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line highlighted"><span style="color:#676E95;font-style:italic;">// é€šè¿‡Mixin Scale ä»Spriteç±»æ„æˆä¸€ä¸ªæ–°çš„ç±»</span></span>
<span class="line highlighted"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> EightBitSprite </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Scale</span><span style="color:#A6ACCD;">(Sprite)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> flappySprite </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">EightBitSprite</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Bird</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">flappySprite</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setScale</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0.8</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(flappySprite</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">scale)</span></span>
<span class="line"></span></code></pre></div><h2 id="_2ï¸âƒ£-çº¦æŸmixins" tabindex="-1">2ï¸âƒ£ çº¦æŸMixins <a class="header-anchor" href="#_2ï¸âƒ£-çº¦æŸmixins" aria-hidden="true">#</a></h2><p>ä¸Šé¢çš„å½¢å¼ï¼Œmixinå¯¹ç±»çš„åº•å±‚ä¸€æ— æ‰€çŸ¥ï¼Œè¿™å¯¹åˆ›å»ºä½ æƒ³è¦è®¾è®¡çš„ç±»ä¸å¤ªå‹å¥½ã€‚</p><p>ä¸ºäº†æ·»åŠ æ¨¡å‹ï¼Œæˆ‘ä»¬ä¿®æ”¹åŸæ¥çš„æ„é€ å™¨ï¼Œç°åœ¨å®ƒæ¥æ”¶ä¸€ä¸ªæ³›å‹çš„å‚æ•°ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å…ˆå‰çš„æ„é€ å™¨</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Constructor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç°åœ¨éœ€è¦ä¸€ä¸ªæ³›å‹ç‰ˆæœ¬</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å¯¹éœ€è¦mixinçš„ç±»è¿›è¡Œçº¦æŸ</span></span>
<span class="line highlighted"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GConstructor</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>è¿™ä½¿æˆ‘ä»¬åˆ›å»ºçš„ç±»å¿…é¡»æ»¡è¶³æŸç§ç‰¹æ®Šçº¦æŸçš„åŸºç±»æ‰è¡ŒğŸ˜ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line highlighted"><span style="color:#676E95;font-style:italic;">// Mixinçš„åŸºç±»å¿…é¡»åŒ…å« setPos å‡½æ•°ï¼Œä¸”å‡½æ•°ç­¾åä¹Ÿè¦æ»¡è¶³</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Positionable</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GConstructor</span><span style="color:#89DDFF;">&lt;{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">setPos</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">x</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">y</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">}&gt;;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// Mixinçš„åŸºç±»å¿…é¡»æ˜¯Spriteç±»å‹</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Spritable</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GConstructor</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Sprite</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Loggable</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GConstructor</span><span style="color:#89DDFF;">&lt;{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">print</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">void</span><span style="color:#89DDFF;">}&gt;;</span></span>
<span class="line"></span></code></pre></div><p>ç„¶åï¼Œä½ å¯ä»¥åœ¨ç‰¹å®šçš„åŸºç±»æ™ºå•†åˆ›å»ºMixinsï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line highlighted"><span style="color:#676E95;font-style:italic;">// ğŸ’¡åŸºç±»å¿…é¡»æ»¡è¶³ Positionable çš„çº¦æŸ</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Jumpable</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">TBase</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Positionable</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#A6ACCD;font-style:italic;">Base</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TBase</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Jumpable</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">extends</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Base</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    jump</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// åŸºç±»ä¸Šçš„ setPosæ–¹æ³•ğŸ¤©</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">setPos</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">20</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_3ï¸âƒ£-ğŸš€-å¦ä¸€ç§æ›¿æ¢çš„æ¨¡å¼" tabindex="-1">3ï¸âƒ£ ğŸš€ å¦ä¸€ç§æ›¿æ¢çš„æ¨¡å¼ <a class="header-anchor" href="#_3ï¸âƒ£-ğŸš€-å¦ä¸€ç§æ›¿æ¢çš„æ¨¡å¼" aria-hidden="true">#</a></h2><p>æœ¬æ–‡æ¡£ä¹‹å‰çš„ç‰ˆæœ¬æ¨èäº†ä¸€ç§ç¼–å†™mixinçš„æ–¹æ³•ï¼Œä½ å¯ä»¥åˆ†åˆ«åˆ›å»ºè¿è¡Œæ—¶å’Œç±»å‹å±‚æ¬¡ç»“æ„ï¼Œç„¶ååœ¨æœ€ååˆå¹¶å®ƒä»¬ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ¯ç§Mixinéƒ½æ˜¯ä¼ ç»Ÿçš„ES class</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Jumpable</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">jump</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Duckable</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">duck</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Sprite</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">x</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">y</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// ğŸ’¡ç„¶ååˆ›å»ºä¸€ä¸ªæ¥å£ï¼Œå°†é¢„æœŸçš„mixinsä¸åŸºç±»åç§°ç›¸åŒçš„mixinsåˆå¹¶åœ¨ä¸€èµ·</span></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Sprite</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Duckable</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Jumpable</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// ğŸ¤©é€šè¿‡JSè¿è¡Œæ—¶å°†Mixinsåº”ç”¨åˆ°baseä¸Š</span></span>
<span class="line highlighted"><span style="color:#82AAFF;">applyMixins</span><span style="color:#A6ACCD;">(Sprite</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [Jumpable</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Duckable])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> player </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Sprite</span><span style="color:#A6ACCD;">()</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">player</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">jump</span><span style="color:#A6ACCD;">() </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡mixinï¼Œplayeræ‹¥æœ‰äº† Jumpableçš„åŠŸèƒ½</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(player</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> player</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">y)</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// è¿™ä¸ªå·¥å…·å‡½æ•°å¯ä»¥æ”¾åˆ°ä»£ç çš„ä»»ä½•åœ°æ–¹</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">applyMixins</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">derivedCtor</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">constructors</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">constructors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">baseCtor</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyNames</span><span style="color:#F07178;">(</span><span style="color:#FFCB6B;">baseCtor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">derivedCtor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getOwnPropertyDescriptor</span><span style="color:#F07178;">(</span><span style="color:#FFCB6B;">baseCtor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">        	</span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      )</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>å…³äº <code>applyMixins</code> ä¸­çŸ¥è¯†ç‚¹ï¼š</p><ol><li><a href="https://jamessawyer.github.io/deep-javascript-cn/4/Enumerability-of-Properties.html#_1%EF%B8%8F%E2%83%A3-%E5%8F%AF%E6%9E%9A%E4%B8%BE%E6%80%A7%E6%98%AF%E5%A6%82%E4%BD%95%E5%BD%B1%E5%93%8D%E5%B1%9E%E6%80%A7%E8%BF%AD%E4%BB%A3%E6%9E%84%E9%80%A0%E7%9A%84" target="_blank" rel="noreferrer">Object.getOwnPropertyNames()</a> åˆ—ä¸¾å‡ºè‡ªèº«å­—ç¬¦ä¸²å±æ€§keysï¼Œè¿™é‡Œä¸»è¦æ˜¯ <code>constructor</code> &amp; <code>name</code> 2ä¸ªkeys</li><li><a href="https://jamessawyer.github.io/deep-javascript-cn/4/Property-attributes-an-Introduction.html#_4%EF%B8%8F%E2%83%A3-%E9%80%9A%E8%BF%87%E6%8F%8F%E8%BF%B0%E5%99%A8%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7" target="_blank" rel="noreferrer">Object.defineProperty()</a> ç»™å¯¹è±¡æ·»åŠ å±æ€§å€¼ï¼Œè¿™é‡Œä¸»è¦æ˜¯å°†åŸºç±»çš„constructorèµ‹å€¼åˆ°æ´¾ç”Ÿç±»ä¸Šï¼Œè¿›è¡Œæµ…æ‹·è´</li><li><a href="https://jamessawyer.github.io/deep-javascript-cn/4/Property-attributes-an-Introduction.html#_3%EF%B8%8F%E2%83%A3-%E5%8F%96%E5%9B%9E%E5%B1%9E%E6%80%A7%E7%9A%84%E7%89%B9%E6%80%A7" target="_blank" rel="noreferrer">Object.getOwnPropertyDescriptor()</a> è·å–å±æ€§æè¿°ç¬¦ï¼Œè¿™é‡Œä¸»è¦å°†åŸºç±»ä¸Šå±æ€§æ·»åŠ åˆ°æ´¾ç”Ÿç±»ä¸Š</li><li><a href="https://jamessawyer.github.io/deep-javascript-cn/4/Property-attributes-an-Introduction.html#_5%EF%B8%8F%E2%83%A3-object-create-%EF%BC%9A%E9%80%9A%E8%BF%87%E6%8F%8F%E8%BF%B0%E5%99%A8%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1" target="_blank" rel="noreferrer">Object.create()</a> åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè¿™é‡Œåˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡</li></ol></div><p>è¿™ä¸ªæ¨¡å¼å¯¹ç¼–è¯‘å™¨ä¾èµ–æ›´å°‘ï¼Œæ›´å¤šä¾èµ–ä½ çš„ä»£ç ï¼Œç¡®ä¿è¿è¡Œæ—¶å’Œç±»å‹ç³»ç»Ÿä¿æŒåŒæ­¥ã€‚</p><h2 id="_4ï¸âƒ£-é™åˆ¶" tabindex="-1">4ï¸âƒ£ é™åˆ¶ <a class="header-anchor" href="#_4ï¸âƒ£-é™åˆ¶" aria-hidden="true">#</a></h2><p>Mixinæ¨¡å¼è¢«TypeScriptç¼–è¯‘å™¨é€šè¿‡ä»£ç æµåŸç”Ÿæ”¯æŒã€‚æœ‰äº›åœºæ™¯å¯èƒ½ä¼šè§¦ç¢°åˆ°åŸç”Ÿæ”¯æŒçš„è¾¹ç•ŒğŸ˜…ã€‚</p><h3 id="_4-1-è£…é¥°å™¨å’Œmixins" tabindex="-1">4.1 è£…é¥°å™¨å’ŒMixins <a class="header-anchor" href="#_4-1-è£…é¥°å™¨å’Œmixins" aria-hidden="true">#</a></h3><p>å¯æŸ¥çœ‹ <a href="https://github.com/microsoft/TypeScript/issues/4881" target="_blank" rel="noreferrer">issuses@4881</a></p><p>ä½ ä¸èƒ½ä½¿ç”¨è£…é¥°å™¨é€šè¿‡ä»£ç æµåˆ†ææ¥æä¾›mixinï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ä¸€ä¸ªå¤åˆ¶Mixinæ¨¡å¼çš„è£…é¥°å™¨å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Pausable </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> Player</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Pausable</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">extends</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">target</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    shouldFreeze </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">Pausable</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Player</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">x</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">y</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// ğŸš¨Playerç±»ä¸ä¼šå°†è£…é¥°å™¨ç±»å‹è¿›è¡Œåˆå¹¶</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> player </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Player</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">player</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">shouldFreeze</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// âŒ å±æ€§ &#39;shouldFreeze&#39; ä¸å­˜åœ¨äºç±»å‹ &#39;Player&#39; ä¸Š</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#676E95;font-style:italic;">// ğŸ’¡ è¿è¡Œæ—¶å¯ä»¥é€šè¿‡ç±»å‹ç»„åˆæˆ–æ¥å£åˆå¹¶å¯ä»¥æ‰‹åŠ¨å¤åˆ¶</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">FreezablePlayer</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Player</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">shouldFreeze</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> player2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Player</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">unknown</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">FreezablePlayer</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">playe2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">shouldFreeze</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// ğŸ‘Œ</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>ä½¿ç”¨è£…é¥°å™¨ï¼Œéœ€è¦åœ¨ <code>tsconfig.json</code> ä¸­å¼€å¯ä¸‹é¢ç¼–è¯‘é€‰é¡¹ï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">compilerOptions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">experimentalDecorators</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div></div><h3 id="_4-2-é™æ€å±æ€§mixins" tabindex="-1">4.2 é™æ€å±æ€§Mixins <a class="header-anchor" href="#_4-2-é™æ€å±æ€§mixins" aria-hidden="true">#</a></h3><p>å¯æŸ¥çœ‹ <a href="https://github.com/microsoft/TypeScript/issues/17829" target="_blank" rel="noreferrer">issues@17829</a></p><p>è¿™ä¸ªæ›´åƒä¸€ä¸ªç¼ºé™·ï¼Œè€Œä¸æ˜¯é™åˆ¶ã€‚ç±»è¡¨è¾¾å¼æ¨¡å¼åˆ›å»ºå•ä¾‹ï¼Œå› æ­¤å®ƒä»¬ä¸èƒ½åœ¨ç±»å‹ç³»ç»Ÿä¸­è¢«æ˜ å°„ä»¥æ”¯æŒä¸åŒçš„å˜é‡ç±»å‹ã€‚</p><p>ä½ å¯é€šè¿‡ä½¿ç”¨å‡½æ•°è¿”å›åŸºäºæ³›å‹ä¸åŒçš„ç±»æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">base</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Base</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">static</span><span style="color:#F07178;"> prop</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">T</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Base</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">derived</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Derived</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">extends</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">base</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">static</span><span style="color:#F07178;"> anotherProp</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">T</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Derived</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Spec</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">derived</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Spec</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prop</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// string</span></span>
<span class="line"><span style="color:#A6ACCD;">Spec</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">anotherProp</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// string</span></span>
<span class="line"></span></code></pre></div><p>åŸæ–‡æ¡£ï¼š</p><ul><li><a href="https://www.typescriptlang.org/docs/handbook/mixins.html" target="_blank" rel="noreferrer">Mixins</a></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>è¯‘è€…æ³¨ï¼š</p><p>Mixinsæ¨¡å¼åœ¨ä¹‹å‰çš„JSåº“ä¸­å¾ˆå¸¸è§ï¼Œæ¯”å¦‚è€ç‰ˆæœ¬çš„Reactå’Œè€ç‰ˆæœ¬çš„Vueä¸­ï¼Œéƒ½èƒ½çœ‹åˆ°ã€‚å®ƒæœ¬è´¨ä¸Šå°±æ˜¯å¯¹å·²æœ‰çš„åŠŸèƒ½è¿›è¡Œæ‰©å±•ï¼Œä½†ç°åœ¨ä¸€èˆ¬é€šè¿‡<code>ç»„åˆ</code>çš„æ¨¡å¼è¿›è¡ŒåŠŸèƒ½æ‰©å±•ï¼Œæ›´åŠ çš„çµæ´»ã€‚</p></div><p>2022å¹´09æœˆ17æ—¥17:46:38</p>`,39),e=[o];function t(c,r,y,F,i,D){return a(),n("div",null,e)}const h=s(p,[["render",t]]);export{A as __pageData,h as default};
