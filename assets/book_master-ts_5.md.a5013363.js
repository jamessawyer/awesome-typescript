import{_ as a}from"./chunks/5-15.78edf22f.js";import{_ as n,c as p,o as l,N as o}from"./chunks/framework.90b54eba.js";const e="/awesome-typescript/assets/5-1.6b1eeb40.webp",t="/awesome-typescript/assets/5-2.7de77ea5.webp",r="/awesome-typescript/assets/5-3.02b44c3c.webp",c="/awesome-typescript/assets/5-4.f82a9539.webp",y="/awesome-typescript/assets/5-5.be52c49f.webp",A="/awesome-typescript/assets/5-6.7b2f17ec.webp",C="/awesome-typescript/assets/5-7.88070c46.webp",D="/awesome-typescript/assets/5-8.ef7fa1f7.webp",F="/awesome-typescript/assets/5-9.02c507b4.webp",i="/awesome-typescript/assets/5-10.76117702.webp",g="/awesome-typescript/assets/5-11.6aa3a0a0.webp",B="/awesome-typescript/assets/5-12.90fc2d35.webp",d="/awesome-typescript/assets/5-13.bb45e38b.webp",h="/awesome-typescript/assets/5-14.34b44b2b.webp",u="/awesome-typescript/assets/5-16.81d9bc7a.webp",m="/awesome-typescript/assets/5-17.18238e13.webp",E="/awesome-typescript/assets/5-18.664360ca.webp",f="/awesome-typescript/assets/5-19.90bade6d.webp",s="/awesome-typescript/assets/5-20.7f45d819.webp",w="/awesome-typescript/assets/5-22.8fda3c62.webp",b="/awesome-typescript/assets/5-23.1f9a8884.webp",T="/awesome-typescript/assets/5-24.485d5399.webp",K=JSON.parse('{"title":"æ¨¡å¼åŒ¹é…","description":"","frontmatter":{"title":"æ¨¡å¼åŒ¹é…"},"headers":[],"relativePath":"book/master-ts/5.md","lastUpdated":1679023713000}'),S={name:"book/master-ts/5.md"},P=o(`<p>TypeScript ç±»å‹ç¼–ç¨‹çš„ä»£ç çœ‹èµ·æ¥æ¯”è¾ƒå¤æ‚ï¼Œä½†å…¶å®è¿™äº›é€»è¾‘ç”¨ JS å¤§å®¶éƒ½ä¼šå†™ï¼Œä¹‹æ‰€ä»¥åˆ°äº†ç±»å‹ä½“æ“å°±ä¸ä¼šäº†ï¼Œé‚£æ˜¯å› ä¸ºè¿˜ä¸ç†Ÿæ‚‰ä¸€äº›å¥—è·¯ã€‚</p><p>æ‰€ä»¥ï¼Œè¿™èŠ‚å¼€å§‹æˆ‘ä»¬å°±æ¥å­¦ä¹ ä¸€äº›ç±»å‹ä½“æ“çš„å¥—è·¯ï¼Œç†Ÿæ‚‰è¿™äº›å¥—è·¯ä¹‹åï¼Œå„ç§ç±»å‹ä½“æ“é€»è¾‘å°±èƒ½å¤Ÿå¾ˆé¡ºç•…çš„å†™å‡ºæ¥ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å­¦ä¹ ç±»å‹ä½“æ“çš„ç¬¬ä¸€ä¸ªå¥—è·¯ï¼šæ¨¡å¼åŒ¹é…åšæå–ã€‚</p><h2 id="æ¨¡å¼åŒ¹é…" tabindex="-1">æ¨¡å¼åŒ¹é… <a class="header-anchor" href="#æ¨¡å¼åŒ¹é…" aria-label="Permalink to &quot;æ¨¡å¼åŒ¹é…&quot;">â€‹</a></h2><p>æˆ‘ä»¬çŸ¥é“ï¼Œå­—ç¬¦ä¸²å¯ä»¥å’Œæ­£åˆ™åšæ¨¡å¼åŒ¹é…ï¼Œæ‰¾åˆ°åŒ¹é…çš„éƒ¨åˆ†ï¼Œæå–å­ç»„ï¼Œä¹‹åå¯ä»¥ç”¨ 1,1,2 ç­‰å¼•ç”¨åŒ¹é…çš„å­ç»„ã€‚</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/a(b)c/)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">$1,$1,$1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å¾—åˆ°</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// &#39;b,b,b&#39;</span></span>
<span class="line"></span></code></pre></div><p>Typescript çš„ç±»å‹ä¹ŸåŒæ ·å¯ä»¥åšæ¨¡å¼åŒ¹é…ã€‚</p><p>æ¯”å¦‚è¿™æ ·ä¸€ä¸ª Promise ç±»å‹ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">p</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">guang</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>æˆ‘ä»¬æƒ³æå– value çš„ç±»å‹ï¼Œå¯ä»¥è¿™æ ·åšï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetValueType</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">P</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">P</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Primise</span><span style="color:#89DDFF;">&lt;infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Value</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Value</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">never</span></span>
<span class="line"></span></code></pre></div><p>é€šè¿‡ extends å¯¹ä¼ å…¥çš„ç±»å‹å‚æ•° P åšæ¨¡å¼åŒ¹é…ï¼Œå…¶ä¸­å€¼çš„ç±»å‹æ˜¯éœ€è¦æå–çš„ï¼Œé€šè¿‡ infer å£°æ˜ä¸€ä¸ªå±€éƒ¨å˜é‡ Value æ¥ä¿å­˜ï¼Œå¦‚æœåŒ¹é…ï¼Œå°±è¿”å›åŒ¹é…åˆ°çš„ Valueï¼Œå¦åˆ™å°±è¿”å› never ä»£è¡¨æ²¡åŒ¹é…åˆ°ã€‚</p><p><img src="`+e+`" alt="æ¨¡å¼åŒ¹é…å®ä¾‹"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/FAFwngDgpgBA4lEA1AhgGwK5QCqSgHgAUA+GAXhkJigA8QoA7AEwGdKAnAewFsBLFgrwYAzKOxipMUUgH4J6LDABcMBlABuYgNzBd4aPESSsAJSgsMaEOUPIFOPES58B+AOQBzDCgYe3xYi0gA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>TSv4.5ç‰ˆæœ¬å¼•å…¥äº† <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#awaitedtype" target="_blank" rel="noreferrer">Awaited&lt;Type&gt;</a> å®ç°äº†ä¸Šé¢ç±»ä¼¼çš„åŠŸèƒ½</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetValueResult</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Awaited</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">guang</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;&gt;</span></span>
<span class="line"></span></code></pre></div></div><p>è¿™å°±æ˜¯ Typescript ç±»å‹çš„æ¨¡å¼åŒ¹é…ï¼š</p><p><strong>ğŸ“š Typescript ç±»å‹çš„æ¨¡å¼åŒ¹é…æ˜¯é€šè¿‡ <code>extends</code> å¯¹ç±»å‹å‚æ•°åšåŒ¹é…ï¼Œç»“æœä¿å­˜åˆ°é€šè¿‡ <code>infer</code> å£°æ˜çš„å±€éƒ¨ç±»å‹å˜é‡é‡Œï¼Œå¦‚æœåŒ¹é…å°±èƒ½ä»è¯¥å±€éƒ¨å˜é‡é‡Œæ‹¿åˆ°æå–å‡ºçš„ç±»å‹ã€‚</strong></p><p>è¿™ä¸ªæ¨¡å¼åŒ¹é…çš„å¥—è·¯æœ‰å¤šæœ‰ç”¨å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸‹åœ¨æ•°ç»„ã€å­—ç¬¦ä¸²ã€å‡½æ•°ã€æ„é€ å™¨ç­‰ç±»å‹é‡Œçš„åº”ç”¨ã€‚</p><h2 id="æ•°ç»„ç±»å‹" tabindex="-1">æ•°ç»„ç±»å‹ <a class="header-anchor" href="#æ•°ç»„ç±»å‹" aria-label="Permalink to &quot;æ•°ç»„ç±»å‹&quot;">â€‹</a></h2><h3 id="first" tabindex="-1">First <a class="header-anchor" href="#first" aria-label="Permalink to &quot;First&quot;">â€‹</a></h3><p>æ•°ç»„ç±»å‹æƒ³æå–ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç±»å‹æ€ä¹ˆåšå‘¢ï¼Ÿ</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">arr</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div><p>ç”¨å®ƒæ¥åŒ¹é…ä¸€ä¸ªæ¨¡å¼ç±»å‹ï¼Œæå–ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç±»å‹åˆ°é€šè¿‡ infer å£°æ˜çš„å±€éƒ¨å˜é‡é‡Œè¿”å›ã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetFirst</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">unknown</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#FFCB6B;">Arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">First</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#FFCB6B;">unknown</span><span style="color:#A6ACCD;">[]] </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">First</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">never</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><strong><code>any</code> å’Œ <code>unknown</code> çš„åŒºåˆ«</strong>ï¼š</p><ul><li>any å’Œ unknown éƒ½ä»£è¡¨ä»»æ„ç±»å‹ï¼Œä½†æ˜¯ unknown åªèƒ½æ¥æ”¶ä»»æ„ç±»å‹çš„å€¼ï¼Œè€Œ any é™¤äº†å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„å€¼ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ç»™ä»»æ„ç±»å‹ï¼ˆé™¤äº† neverï¼‰ã€‚ç±»å‹ä½“æ“ä¸­ç»å¸¸ç”¨ unknown æ¥å—å’ŒåŒ¹é…ä»»ä½•ç±»å‹ï¼Œè€Œå¾ˆå°‘æŠŠä»»ä½•ç±»å‹èµ‹å€¼ç»™æŸä¸ªç±»å‹å˜é‡ã€‚</li></ul></div><p>å¯¹ Arr åšæ¨¡å¼åŒ¹é…ï¼ŒæŠŠæˆ‘ä»¬è¦æå–çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç±»å‹æ”¾åˆ°é€šè¿‡ infer å£°æ˜çš„ First å±€éƒ¨å˜é‡é‡Œï¼Œåé¢çš„å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œç”¨ unknown æ¥æ”¶ï¼Œç„¶åæŠŠå±€éƒ¨å˜é‡ First è¿”å›ã€‚</p><p>å½“ç±»å‹å‚æ•° Arr ä¸º [1,2,3] æ—¶ï¼š</p><p><img src="`+t+'" alt="First example 1"></p><p>å½“ç±»å‹å‚æ•° Arr ä¸º [] æ—¶ï¼š</p><p><img src="'+r+`" alt="First example 2"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBA4hwDECWAnAzsAPAQRSqEAHsBAHYAmaUArqQNakD2A7qQNoC6AfFALxS58REhSpskpAGYR8ydMAA0UAHSraDFuw4coAfihyMUAFxRSEAG4yA3ACh7oSLHiHgAJQhpqAG2B9niKgYmGwAjAoATAoAzNx2to7QcIHyHl6+Ef7JriFxtkA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><h3 id="last" tabindex="-1">Last <a class="header-anchor" href="#last" aria-label="Permalink to &quot;Last&quot;">â€‹</a></h3><p>å¯ä»¥æå–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æå–æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä¿®æ”¹ä¸‹æ¨¡å¼ç±»å‹å°±è¡Œï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetLast</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">unknown</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#FFCB6B;">unknown</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Last</span><span style="color:#A6ACCD;">] </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Last</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">never</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type GetLastResult = 3</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetLastResult</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetLast</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type GetLastResult = never</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetLastResult</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetLast</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p><img src="`+c+`" alt="Last Example"></p><h3 id="poparr" tabindex="-1">PopArr <a class="header-anchor" href="#poparr" aria-label="Permalink to &quot;PopArr&quot;">â€‹</a></h3><p>æˆ‘ä»¬åˆ†åˆ«å–äº†é¦–å°¾å…ƒç´ ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å–å‰©ä½™çš„æ•°ç»„ï¼Œæ¯”å¦‚å–<code>å»æ‰äº†æœ€åä¸€ä¸ªå…ƒç´ </code>çš„æ•°ç»„ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PopArr</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">unknown</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">...infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Rest</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">unknown</span><span style="color:#A6ACCD;">] </span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Rest</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">never</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type PopResult = [1, 2]</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PopResult</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PopArr</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type PopResult = []</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PopResult2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PopArr</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>å¦‚æœæ˜¯ç©ºæ•°ç»„ï¼Œå°±ç›´æ¥è¿”å›ï¼Œå¦åˆ™åŒ¹é…å‰©ä½™çš„å…ƒç´ ï¼Œæ”¾åˆ° infer å£°æ˜çš„å±€éƒ¨å˜é‡ Rest é‡Œï¼Œè¿”å› Restã€‚</p><p><img src="`+y+'" alt="PopArr Example 1"></p><p><img src="'+A+`" alt="PopArr Example 2"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBACg9mAggJ2QHhcqEAewIB2AJgM5QCuBA1gXAO4EDaAugHxQC8Um2ehpUFlAD8g5lABc3VL3zEyjAHTKAlgQBmELACUIJYABoK1Wg3Gjd+yVAIQAbloDcAKFehIsBJfIAbYJ08kVDRGAEYDACYDAGY2FzdwaHgwbz8IgOTMELigA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><h3 id="shiftarr" tabindex="-1">ShiftArr <a class="header-anchor" href="#shiftarr" aria-label="Permalink to &quot;ShiftArr&quot;">â€‹</a></h3><p>åŒç†å¯å¾— ShiftArr çš„å®ç°ï¼ˆå»æ‰ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ShiftArr</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">unknown</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Arr</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> [</span><span style="color:#FFCB6B;">unknown</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Rest</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Rest</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">never</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type ShiftResult = [2, 3]</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ShiftResult</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ShiftArr</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type ShiftResult2 = []</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ShiftResult2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ShiftArr</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p><img src="`+C+`" alt="ShiftArr"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/FAFwngDgpgBAygCwJYDMQEEBOmA8XMxQAeIUAdgCYDOMArmQNZkD2A7mQNoC6AfDALwx8hEuWoxuMAPwSuMAFxDsI0pRod6TNmQA0MAHSGkZFFAIAlKFRByZl6wphkoANzMBuYF-DR4yNPa0ADYgAn6oGNg4HACMOgBMOgDMvJ6gkLCIEYEh8WFZaPjRqUA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><h2 id="å­—ç¬¦ä¸²ç±»å‹" tabindex="-1">å­—ç¬¦ä¸²ç±»å‹ <a class="header-anchor" href="#å­—ç¬¦ä¸²ç±»å‹" aria-label="Permalink to &quot;å­—ç¬¦ä¸²ç±»å‹&quot;">â€‹</a></h2><p>å­—ç¬¦ä¸²ç±»å‹ä¹ŸåŒæ ·å¯ä»¥åšæ¨¡å¼åŒ¹é…ï¼ŒåŒ¹é…ä¸€ä¸ªæ¨¡å¼å­—ç¬¦ä¸²ï¼ŒæŠŠéœ€è¦æå–çš„éƒ¨åˆ†æ”¾åˆ° <code>infer</code> å£°æ˜çš„å±€éƒ¨å˜é‡é‡Œã€‚</p><h3 id="startswith" tabindex="-1">StartsWith <a class="header-anchor" href="#startswith" aria-label="Permalink to &quot;StartsWith&quot;">â€‹</a></h3><p>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŸä¸ªå‰ç¼€å¼€å¤´ï¼Œä¹Ÿæ˜¯é€šè¿‡æ¨¡å¼åŒ¹é…ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">StartsWith</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Str</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Prefix</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Str</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#FFCB6B;">Prefix</span><span style="color:#89DDFF;">}\${</span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">}\`</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ture</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type StartsWithResult = true</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">StartsWithResult</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">StartsWith</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">guang and dong</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">guang</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type StartsWithResult2 = false</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">StartsWithResult2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">StartsWith</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">guang and dong</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dong</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>éœ€è¦å£°æ˜å­—ç¬¦ä¸² Strã€åŒ¹é…çš„å‰ç¼€ Prefix ä¸¤ä¸ªç±»å‹å‚æ•°ï¼Œå®ƒä»¬éƒ½æ˜¯ stringã€‚</p><p>ç”¨ Str å»åŒ¹é…ä¸€ä¸ªæ¨¡å¼ç±»å‹ï¼Œ<code>æ¨¡å¼ç±»å‹çš„å‰ç¼€æ˜¯ Prefixï¼Œåé¢æ˜¯ä»»æ„çš„ string</code>ï¼Œå¦‚æœåŒ¹é…è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚</p><p><img src="`+D+`" alt="StartsWith 1"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBAysCGAnYBnA6gS2ACwDx0SggA9gIA7AExShWEQ3IHMAaKABUQgDMNijSFarXqMmAPigBeWPQFkqNAAYASAN6cefAL7q6DZtqVQA-FHoBXaAC4o3eABsUEANwAoD6EiykqTDgAlCBQLB2BpH2R0LDwAciYLeGYoJMooSgB7Zli2eMTs8XcPNy9oOF9owODQ4AAmCPKo-ziEpKYUqnSsphyoWMyClyA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><h3 id="replace" tabindex="-1">Replace <a class="header-anchor" href="#replace" aria-label="Permalink to &quot;Replace&quot;">â€‹</a></h3><p>å­—ç¬¦ä¸²å¯ä»¥åŒ¹é…ä¸€ä¸ªæ¨¡å¼ç±»å‹ï¼Œæå–æƒ³è¦çš„éƒ¨åˆ†ï¼Œè‡ªç„¶ä¹Ÿå¯ä»¥ç”¨è¿™äº›å†æ„æˆä¸€ä¸ªæ–°çš„ç±»å‹ã€‚</p><p>æ¯”å¦‚å®ç°å­—ç¬¦ä¸²æ›¿æ¢ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Replace</span><span style="color:#89DDFF;">&lt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Str</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">From</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">To</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Str</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Prefix</span><span style="color:#89DDFF;">}\${</span><span style="color:#FFCB6B;">From</span><span style="color:#89DDFF;">}\${</span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Suffix</span><span style="color:#89DDFF;">}\`</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#FFCB6B;">Prefix</span><span style="color:#89DDFF;">}\${</span><span style="color:#FFCB6B;">To</span><span style="color:#89DDFF;">}\${</span><span style="color:#FFCB6B;">Suffix</span><span style="color:#89DDFF;">}\`</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Str</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åŒ¹é…ä¸Š</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ReplaceResult</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ReplaceStr</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Guangguang&#39;s best friend is ?</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">?</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Dongdong</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ²¡åŒ¹é…ä¸Š</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ReplaceResult2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ReplaceStr</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">abc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">?</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Dongdong</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"></span></code></pre></div><p>å£°æ˜è¦æ›¿æ¢çš„å­—ç¬¦ä¸² Strã€å¾…æ›¿æ¢çš„å­—ç¬¦ä¸² Fromã€æ›¿æ¢æˆçš„å­—ç¬¦ä¸² 3 ä¸ªç±»å‹å‚æ•°ï¼Œé€šè¿‡ extends çº¦æŸä¸ºéƒ½æ˜¯ string ç±»å‹ã€‚</p><p>ç”¨ Str å»åŒ¹é…æ¨¡å¼ä¸²ï¼Œæ¨¡å¼ä¸²ç”± From å’Œä¹‹å‰ä¹‹åçš„å­—ç¬¦ä¸²æ„æˆï¼ŒæŠŠä¹‹å‰ä¹‹åçš„å­—ç¬¦ä¸²æ”¾åˆ°é€šè¿‡ infer å£°æ˜çš„å±€éƒ¨å˜é‡ Prefixã€Suffix é‡Œã€‚</p><p>ç”¨ Prefixã€Suffix åŠ ä¸Šæ›¿æ¢åˆ°çš„å­—ç¬¦ä¸² To æ„é€ æˆæ–°çš„å­—ç¬¦ä¸²ç±»å‹è¿”å›ã€‚</p><p>å½“åŒ¹é…æ—¶ï¼š</p><p><img src="`+F+'" alt="Replace 1"></p><p>æ²¡åŒ¹é…ä¸Šï¼Œè¿”å›åŸå­—ç¬¦ä¸²ï¼š</p><p><img src="'+i+`" alt="Replace 2"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBAShYBsCGBjCBlYAnAPJrUEAHsBAHYAmAzlFdgJZkDmANFAGJYD2AtoSeWq0GzNgBUu-UpRp0sjJgD4oAXihR8UwTQAGAEgDejAGYQCABSwRj9IgF9DnXg6NlTBdAFdjN+zqgA-FD6BpbWti4SLl4+Ef4AXBrYANwAUOmpoJCw8MhocFSeCMCqOYioGNg4AEQA4p5IzEwNzADkNABGEHRQxvKCUPQ0AdVs1SNjACJczBQzTNWKaZng0HDl+d1FwABMpet5lbjVSB0oo1DjF9XTs-OLyUA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><h3 id="trim" tabindex="-1">Trim <a class="header-anchor" href="#trim" aria-label="Permalink to &quot;Trim&quot;">â€‹</a></h3><p>èƒ½å¤ŸåŒ¹é…å’Œæ›¿æ¢å­—ç¬¦ä¸²ï¼Œé‚£ä¹Ÿå°±èƒ½å®ç°å»æ‰ç©ºç™½å­—ç¬¦çš„ Trimï¼š</p><p>ä¸è¿‡å› ä¸ºæˆ‘ä»¬ä¸çŸ¥é“æœ‰å¤šå°‘ä¸ªç©ºç™½å­—ç¬¦ï¼Œæ‰€ä»¥åªèƒ½ä¸€ä¸ªä¸ªåŒ¹é…å’Œå»æ‰ï¼Œéœ€è¦é€’å½’ã€‚</p><p>å…ˆå®ç° <code>TrimRight</code>:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TrimStrRight</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Str</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Str</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Rest</span><span style="color:#89DDFF;">}\${&#39;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\t</span><span style="color:#89DDFF;">&#39;}\`</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TrimStrRight</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Rest</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Str</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type TrimRightResult = &#39;guang&#39;</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TrimRightResult</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TrimStrRight</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">guang   </span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>ç±»å‹å‚æ•° Str æ˜¯è¦ Trim çš„å­—ç¬¦ä¸²ã€‚</p><p>å¦‚æœ Str åŒ¹é…å­—ç¬¦ä¸² + ç©ºç™½å­—ç¬¦ (ç©ºæ ¼ã€æ¢è¡Œã€åˆ¶è¡¨ç¬¦)ï¼Œé‚£å°±æŠŠå­—ç¬¦ä¸²æ”¾åˆ° infer å£°æ˜çš„å±€éƒ¨å˜é‡ Rest é‡Œã€‚</p><p>æŠŠ Rest ä½œä¸ºç±»å‹å‚æ•°é€’å½’ TrimRightï¼Œç›´åˆ°ä¸åŒ¹é…ï¼Œè¿™æ—¶çš„ç±»å‹å‚æ•° Str å°±æ˜¯å¤„ç†ç»“æœã€‚</p><p><img src="`+g+`" alt="TrimStrRight"></p><p>åŒç†å¯å¾— <code>TrimLeft</code>ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TrimStrLeft</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Str</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Str</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`\${&#39;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\n</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\t</span><span style="color:#89DDFF;">&#39;}\${</span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Rest</span><span style="color:#89DDFF;">}\`</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TrimStrLeft</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Rest</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Str</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type TrimRightResult = &#39;guang&#39;</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TrimLeftResult</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TrimStrLeft</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">  guang</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p><img src="`+B+`" alt="TrimStrLeft"></p><p>TrimRight å’Œ TrimLeft ç»“åˆå°±æ˜¯ <code>Trim</code>ï¼šğŸ‰</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TrimStr</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Str</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#FFCB6B;">TrimStrRight</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">TrimStrLeft</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Str</span><span style="color:#89DDFF;">&gt;&gt;</span></span>
<span class="line"></span></code></pre></div><p><img src="`+d+`" alt="TrimStr"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBAKgTgSwLYGVhwEoIOYAtgA8acUEAHsBAHYAmAzlHegldgHxQC8UxpF19KAAMAJAG8WAMwgkMEJgF9xAciiqAPmoA6VDduDKFQqAH5YiVOix5CcphwBcPdAG4AUB7ehI55Nfx2AK4ANsBcvpaYOPgEytiBAIasUCmpKcps7h7e0PDIxAAyEJKEvOSUtAxMiKwc3GX8lcIqalCayjp6HQZKElTSsvLARqYRhcW2Q47OcFle4LkWRSVBoeF5kcuEqmlQNAD2rBlz2Qtj6ETofBWC1SzsXBvE-oRP6FuXcGyZnjkRq2FuG84LFdntDthUsc3EA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><h2 id="å‡½æ•°" tabindex="-1">å‡½æ•° <a class="header-anchor" href="#å‡½æ•°" aria-label="Permalink to &quot;å‡½æ•°&quot;">â€‹</a></h2><p>å‡½æ•°åŒæ ·ä¹Ÿå¯ä»¥åšç±»å‹åŒ¹é…ï¼Œæ¯”å¦‚æå–å‚æ•°ã€è¿”å›å€¼çš„ç±»å‹ã€‚</p><h3 id="getparameters" tabindex="-1">GetParameters <a class="header-anchor" href="#getparameters" aria-label="Permalink to &quot;GetParameters&quot;">â€‹</a></h3><p>å‡½æ•°ç±»å‹å¯ä»¥é€šè¿‡æ¨¡å¼åŒ¹é…æ¥æå–å‚æ•°çš„ç±»å‹ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetParameters</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Func</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#FFCB6B;">Func</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Args</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">unknown</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Args</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">never</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è¿”å›ä¸€ä¸ªå…ƒç¥–ç±»å‹</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type ParametersResult = [name: string, age: number]</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ParametersResult</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetParameters</span><span style="color:#89DDFF;">&lt;(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">age</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"></span></code></pre></div><p>ç±»å‹å‚æ•° Func æ˜¯è¦åŒ¹é…çš„å‡½æ•°ç±»å‹ï¼Œé€šè¿‡ extends çº¦æŸä¸º Functionã€‚</p><p>Func å’Œæ¨¡å¼ç±»å‹åšåŒ¹é…ï¼Œå‚æ•°ç±»å‹æ”¾åˆ°ç”¨ infer å£°æ˜çš„å±€éƒ¨å˜é‡ Args é‡Œï¼Œè¿”å›å€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œç”¨ unknownã€‚</p><p>è¿”å›æå–åˆ°çš„å‚æ•°ç±»å‹ Argsã€‚</p><p><img src="`+h+`" alt="GetParamters"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBA4hwAUCGAnJBbeEUGcA8AYgK4B2AxlBAB7AQkAmOUx5wAlgPYkB8UAvM1IVqtBkwAUAOmmoA5jgBcUNiQBm2KAEEU8gJT9epANYkOAdxJQA-Fp1MlJCADdsAbgBQn0JCjI0mWlwAJQgcIgAbYH5YeD8MLFw8cRJ4pRxgFBVZABooJFkIByJ0ACNsfT5edMySWW4Pd29oOIDsHBCwyIAmaLhEVHjA-HEKqoys+qA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>TS3.1 æ·»åŠ äº† <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#parameterstype" target="_blank" rel="noreferrer">Paramters&lt;Type&gt;</a> ç±»ä¼¼åŠŸèƒ½ã€‚</p></div><h3 id="getreturntype" tabindex="-1">GetReturnType <a class="header-anchor" href="#getreturntype" aria-label="Permalink to &quot;GetReturnType&quot;">â€‹</a></h3><p>èƒ½æå–å‚æ•°ç±»å‹ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥æå–è¿”å›å€¼ç±»å‹ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetReturnType</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Func</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// è¿™é‡Œå‚æ•°ç”¨çš„æ˜¯any</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Func</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">R</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">R</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">never</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type Result = &#39;dong&#39;</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Result</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetReturnType</span><span style="color:#89DDFF;">&lt;()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dong</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>Func å’Œæ¨¡å¼ç±»å‹åšåŒ¹é…ï¼Œæå–è¿”å›å€¼åˆ°é€šè¿‡ infer å£°æ˜çš„å±€éƒ¨å˜é‡ ReturnType é‡Œè¿”å›ã€‚</p><p>å‚æ•°ç±»å‹å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯ <code>any[]</code>ï¼ˆğŸš¨æ³¨æ„ï¼Œè¿™é‡Œä¸èƒ½ç”¨ unknownï¼Œè¿™é‡Œçš„è§£é‡Šæ¶‰åŠåˆ°å‚æ•°çš„é€†å˜æ€§è´¨ï¼Œå…·ä½“åŸå› é€†å˜é‚£ä¸€èŠ‚ä¼šè§£é‡Šï¼‰ã€‚</p><p><img src="`+a+`" alt="ReturnType"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBA4hwCV4FcBOA7AKuCAeAYsugMZQQAewE6AJgM5SEnACWA9ugHxQC8jRpClVoMAFADpJAQ1QBzOgC4oU9CADaAXQCUvbi3QAzCKihJgaLDigB+UygzZIUJeggA3YwG4AUN9BOzC0cIJDpkABtw4F5YeECHHFxRdCkAWwglOmBUfVkdHm4AchoOWULOTyA" target="_blank" rel="noreferrer">TS Playgroundd</a></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>TSå·¥å…·ç±»å‹ <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#returntypetype" target="_blank" rel="noreferrer">ReturnType&lt;Type&gt;</a></p></div><h3 id="getthisparametertype" tabindex="-1">GetThisParameterType <a class="header-anchor" href="#getthisparametertype" aria-label="Permalink to &quot;GetThisParameterType&quot;">â€‹</a></h3><p>æ–¹æ³•é‡Œå¯ä»¥è°ƒç”¨ <code>this</code>ï¼Œæ¯”å¦‚è¿™æ ·ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Dong</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dong</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">hello</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello, I</span><span style="color:#A6ACCD;">\\&#39;</span><span style="color:#C3E88D;">m </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> dong </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Dong</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">dong</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">hello</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>ç”¨<code>å¯¹è±¡.æ–¹æ³•å</code>çš„æ–¹å¼è°ƒç”¨çš„æ—¶å€™ï¼Œthis å°±æŒ‡å‘é‚£ä¸ªå¯¹è±¡ã€‚</p><p>ä½†æ˜¯æ–¹æ³•ä¹Ÿå¯ä»¥ç”¨ call æˆ–è€… apply è°ƒç”¨ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Dong</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dong</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">hello</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello, I</span><span style="color:#A6ACCD;">\\&#39;</span><span style="color:#C3E88D;">m </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> dong </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Dong</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">dong</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">hello</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line diff add"><span style="color:#A6ACCD;">dong</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">hello</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">xxx</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">) </span></span>
<span class="line"></span></code></pre></div><p>call è°ƒç”¨çš„æ—¶å€™ï¼Œthis å°±å˜äº†ï¼Œä½†è¿™é‡Œå´æ²¡æœ‰è¢«æ£€æŸ¥å‡ºæ¥ this æŒ‡å‘çš„é”™è¯¯ã€‚</p><p>å¦‚ä½•è®©ç¼–è¯‘å™¨èƒ½å¤Ÿæ£€æŸ¥å‡º this æŒ‡å‘çš„é”™è¯¯å‘¢ï¼Ÿ</p><p>å¯ä»¥åœ¨æ–¹æ³•å£°æ˜æ—¶æŒ‡å®š this çš„ç±»å‹ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines has-diff"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Dong</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line diff remove"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">hello</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span></span>
<span class="line diff add"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">hello</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Dong</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello, I</span><span style="color:#A6ACCD;">\\&#39;</span><span style="color:#C3E88D;">m </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">const </span><span style="color:#F07178;">dong</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">Dong</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dong</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">dong</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">hello</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span>
<span class="line highlighted error"><span style="color:#A6ACCD;">dong</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">hello</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">xxx</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">) </span></span>
<span class="line"></span></code></pre></div><p>è¿™æ ·ï¼Œå½“ call/apply è°ƒç”¨çš„æ—¶å€™ï¼Œå°±èƒ½æ£€æŸ¥å‡º this æŒ‡å‘çš„å¯¹è±¡æ˜¯å¦æ˜¯å¯¹çš„ï¼š</p><p><img src="`+u+'" alt="strictBindCallApply"></p><p>å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œè¯´æ˜æ²¡å¼€å¯ strictBindCallApply çš„ç¼–è¯‘é€‰é¡¹ï¼Œè¿™ä¸ªæ˜¯æ§åˆ¶æ˜¯å¦æŒ‰ç…§åŸå‡½æ•°çš„ç±»å‹æ¥æ£€æŸ¥ bindã€callã€apply</p><p><img src="'+m+`" alt="strictBindCallApply"></p><p>è¿™é‡Œçš„ <code>this</code> ç±»å‹åŒæ ·ä¹Ÿå¯ä»¥é€šè¿‡æ¨¡å¼åŒ¹é…æå–å‡ºæ¥ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetThisParameterType</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">this</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ThisType</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ThisType</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">unknown</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>ç±»å‹å‚æ•° T æ˜¯å¾…å¤„ç†çš„ç±»å‹ã€‚</p><p>ç”¨ T åŒ¹é…ä¸€ä¸ªæ¨¡å¼ç±»å‹ï¼Œæå– this çš„ç±»å‹åˆ° infer å£°æ˜çš„å±€éƒ¨å˜é‡ ThisType ä¸­ï¼Œå…¶ä½™çš„å‚æ•°æ˜¯ä»»æ„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯ anyï¼Œè¿”å›å€¼ä¹Ÿæ˜¯ä»»æ„ç±»å‹ã€‚</p><p>è¿”å›æå–åˆ°çš„ ThisTypeã€‚</p><p>è¿™æ ·å°±èƒ½æå–å‡º this çš„ç±»å‹ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetThisParameterTypeRes</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetThisParameterType</span><span style="color:#89DDFF;">&lt;typeof</span><span style="color:#A6ACCD;"> dong</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">hello</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p><img src="`+E+`" alt="GetThisParameterType"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/MYGwhgzhAEAiD2A7A5tA3gKGt6iwFsBTALmggBcAnASxQG4MsdgkLKBXYc+SgCgEp0THDnIALahAB0eItAC80AEQATJMiUMRAX0YixhECHi9xk0ghSDMIkZULl2lRNADkBo-AA00AJIAdV3w3aABqaDNpWUItHF1dDBZECmg1FAVcQgB3OHUBBjTkKQ9jfMZC4sNjKWAwI140AA9m4gBGbX4GDHIATwAHQmgAcQcAFQkIAAUwSgIHQkpR-sIAHlGAPgzR6EJG8kJEFRhTCdJaADMF6HHJJYGfKUeZ5AhSMEQegG0AXUF5TfePWgAH5rhM7oNSOxEABrRDwLKILrdZbDMYTaazIj7RbLABKhBgihG5BuUxmcxxEJWvQG8HOqXUlU862RQA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>TSä¸­å­˜åœ¨ <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#thisparametertypetype" target="_blank" rel="noreferrer">ThisParameterType&lt;Type&gt;</a> å·¥å…·ç±»å‹</p></div><h2 id="æ„é€ å™¨" tabindex="-1">æ„é€ å™¨ <a class="header-anchor" href="#æ„é€ å™¨" aria-label="Permalink to &quot;æ„é€ å™¨&quot;">â€‹</a></h2><p>æ„é€ å™¨å’Œå‡½æ•°çš„åŒºåˆ«æ˜¯ï¼Œæ„é€ å™¨æ˜¯ç”¨äºåˆ›å»ºå¯¹è±¡çš„ï¼Œæ‰€ä»¥å¯ä»¥è¢« <code>new</code>ã€‚</p><p>åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æ¨¡å¼åŒ¹é…æå–æ„é€ å™¨çš„å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹ï¼š</p><h3 id="getinstancetype" tabindex="-1">GetInstanceType <a class="header-anchor" href="#getinstancetype" aria-label="Permalink to &quot;GetInstanceType&quot;">â€‹</a></h3><p>æ„é€ å™¨ç±»å‹å¯ä»¥ç”¨ interface å£°æ˜ï¼Œä½¿ç”¨ <code>new(): xx</code> çš„è¯­æ³•ã€‚æ¯”å¦‚ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PersonConstructor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">new(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>è¿™é‡Œçš„ PersonConstructor è¿”å›çš„æ˜¯ Person ç±»å‹çš„å®ä¾‹å¯¹è±¡ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥é€šè¿‡æ¨¡å¼åŒ¹é…å–å‡ºæ¥ã€‚</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetInstanceType</span><span style="color:#89DDFF;">&lt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Ctor</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Ctor</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">InstanceType</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">InstanceType</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetInstanceTypeRes</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetInstanceType</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">PersonConstructor</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>ç±»å‹å‚æ•° ConstructorType æ˜¯å¾…å¤„ç†çš„ç±»å‹ï¼Œé€šè¿‡ extends çº¦æŸä¸ºæ„é€ å™¨ç±»å‹ã€‚</p><p>ç”¨ ConstructorType åŒ¹é…ä¸€ä¸ªæ¨¡å¼ç±»å‹ï¼Œæå–è¿”å›çš„å®ä¾‹ç±»å‹åˆ° infer å£°æ˜çš„å±€éƒ¨å˜é‡ InstanceType é‡Œï¼Œè¿”å› InstanceTypeã€‚</p><p>è¿™æ ·å°±èƒ½å–å‡ºæ„é€ å™¨å¯¹åº”çš„å®ä¾‹ç±»å‹ï¼š</p><p><img src="`+f+`" alt="GetInstanceType"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBA4hwEkB2BnYBDJBjCAVcEAPAMID2qwATgK5bCmX6RQQAewESAJilEhAHcoACgB049JQDmKAFxRMIAJRQAvAD4FSEJoBQUA2qhkKNOgybQ2Hbr35CxE6XK3K1mgJZIAZhEpRkNEwcSyh9QwiAfgCKYLwCMIiI+UUAbl1dLw5Kb3QcKAAFPxRyKABvcIMkdABbCHk0Si8pdIBfDKy-XPyiyhKkE0baen8KiPtharqGqmaleV7+tozQZjhEWOx4yAAlCF5VWHhAjC3LQkXyQaphhnV0oA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>TSå­˜åœ¨ <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#instancetypetype" target="_blank" rel="noreferrer">InstanceType&lt;Type&gt;</a> å·¥å…·ç±»å‹</p></div><h3 id="getconstructorparameters" tabindex="-1">GetConstructorParameters <a class="header-anchor" href="#getconstructorparameters" aria-label="Permalink to &quot;GetConstructorParameters&quot;">â€‹</a></h3><p>GetInstanceType æ˜¯æå–æ„é€ å™¨è¿”å›å€¼ç±»å‹ï¼Œé‚£åŒæ ·ä¹Ÿå¯ä»¥æå–æ„é€ å™¨çš„å‚æ•°ç±»å‹ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetConstructorParameters</span><span style="color:#89DDFF;">&lt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Ctor</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Ctor</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ParametersType</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ParametersType</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PersonCtor</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Person</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è¿”å›ä¸€ä¸ªå…ƒç¥–</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// type Result = [name: string]</span></span>
<span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Result</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetConstructorParameters</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">PersonCtor</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>ç±»å‹å‚æ•° ConstructorType ä¸ºå¾…å¤„ç†çš„ç±»å‹ï¼Œé€šè¿‡ extends çº¦æŸä¸ºæ„é€ å™¨ç±»å‹ã€‚</p><p>ç”¨ ConstructorType åŒ¹é…ä¸€ä¸ªæ¨¡å¼ç±»å‹ï¼Œæå–å‚æ•°çš„éƒ¨åˆ†åˆ° infer å£°æ˜çš„å±€éƒ¨å˜é‡ ParametersType é‡Œï¼Œè¿”å› ParametersTypeã€‚</p><p>è¿™æ ·å°±èƒ½æå–å‡ºæ„é€ å™¨å¯¹åº”çš„å‚æ•°ç±»å‹ï¼š</p><p><img src="`+s+'" alt="GetConstructorParameters"></p><ul><li><a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBA4hwGED2A7AzsATgVwMbCUwAUBDTEgW3gkzQB4AoKZqZdLPAzAFXGggAewCCgAmaKCggB3KAAoAdErIBzNAC4oJFCACUUALwA+LToYmDrVBhz5CvSFEHCxEqbMXLMazQEsUAGY0UKTkVMK0DhD6xqYgTCwA-CFklNSRfAnMmlIAbjQA3AwM-hEBJLjQRDRoqFAA3lmSaZo2-ipFAL7FpTTllSE1qGw2nIQNTe5yKC1QbSgquprVtKhdxaCOcIjWHHbEqeE1AEoQEpbbI3tcoWkR9Cu1KFe2XEZFQA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>TSå­˜åœ¨ <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#constructorparameterstype" target="_blank" rel="noreferrer">ConstructorParameters&lt;Type&gt;</a> å·¥å…·ç±»å‹ã€‚</p></div><h2 id="ç´¢å¼•ç±»å‹" tabindex="-1">ç´¢å¼•ç±»å‹ <a class="header-anchor" href="#ç´¢å¼•ç±»å‹" aria-label="Permalink to &quot;ç´¢å¼•ç±»å‹&quot;">â€‹</a></h2><p>ç´¢å¼•ç±»å‹ä¹ŸåŒæ ·å¯ä»¥ç”¨æ¨¡å¼åŒ¹é…æå–æŸä¸ªç´¢å¼•çš„å€¼çš„ç±»å‹ï¼Œè¿™ä¸ªç”¨çš„ä¹ŸæŒºå¤šçš„ï¼Œæ¯”å¦‚ React çš„ index.d.ts é‡Œçš„ <code>PropsWithRef</code> çš„é«˜çº§ç±»å‹ï¼Œå°±æ˜¯é€šè¿‡æ¨¡å¼åŒ¹é…æå–äº† ref çš„å€¼çš„ç±»å‹ï¼š</p><p><img src="'+s+`" alt="PropsWithRef"></p><p>æˆ‘ä»¬ç®€åŒ–ä¸€ä¸‹é‚£ä¸ªé«˜çº§ç±»å‹ï¼Œæå– Props é‡Œ ref çš„ç±»å‹ï¼š</p><h3 id="getrefprops" tabindex="-1">GetRefProps <a class="header-anchor" href="#getrefprops" aria-label="Permalink to &quot;GetRefProps&quot;">â€‹</a></h3><p>æˆ‘ä»¬åŒæ ·é€šè¿‡æ¨¡å¼åŒ¹é…çš„æ–¹å¼æå– ref çš„å€¼çš„ç±»å‹ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">type</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">GetRefProps</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Props</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ref</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">keyof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Props</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Propsä¸­æ˜¯å¦å­˜åœ¨ &#39;ref&#39; å±æ€§</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Props</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">ref</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">infer</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Value</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">undefined</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// å¯¹refçš„å€¼è¿›è¡Œæ¨æ–­</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Value</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">never</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">never</span></span>
<span class="line"></span></code></pre></div><p>ç±»å‹å‚æ•° Props ä¸ºå¾…å¤„ç†çš„ç±»å‹ã€‚</p><p>é€šè¿‡ keyof Props å–å‡º Props çš„æ‰€æœ‰ç´¢å¼•æ„æˆçš„è”åˆç±»å‹ï¼Œåˆ¤æ–­ä¸‹ ref æ˜¯å¦åœ¨å…¶ä¸­ï¼Œä¹Ÿå°±æ˜¯ &#39;ref&#39; extends keyof Propsã€‚</p><p>ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªåˆ¤æ–­ï¼Œä¸Šé¢æ³¨é‡Šé‡Œå†™äº†ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// need to check first if \`ref\` is a valid prop for ts@3.0</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// otherwise it will infer \`{}\` instead of \`never\`</span></span>
<span class="line"></span></code></pre></div><p>åœ¨ ts3.0 é‡Œé¢å¦‚æœæ²¡æœ‰å¯¹åº”çš„ç´¢å¼•ï¼ŒObj[Key] è¿”å›çš„æ˜¯ {} è€Œä¸æ˜¯ neverï¼Œæ‰€ä»¥è¿™æ ·åšä¸‹å…¼å®¹å¤„ç†ã€‚</p><p>å¦‚æœæœ‰ ref è¿™ä¸ªç´¢å¼•çš„è¯ï¼Œå°±é€šè¿‡ infer æå– Value çš„ç±»å‹è¿”å›ï¼Œå¦åˆ™è¿”å› neverã€‚</p><p><img src="`+w+'" alt="GetRefProps 1"></p><p>å½“ ref ä¸º undefined æ—¶ï¼š</p><p><img src="'+b+'" alt="GetRefProps 2"></p><ul><li><a href="https://www.typescriptlang.org/play?ts=4.5.0-beta#code/C4TwDgpgBA4hwCUIDMAKAnA9mAzgHg2xwD4oBeKAKChqgHJ0U6oIAPYCAOwBMcoBrCCEzIohXNVpSA-GKy4W7LrygBvKI2TSAXFACWnZBHRQAagEMANgFdoAHyjWeKAxG4BfSVO9RZFmxBePrS6nBAAbsZBUqERxgDclEmgkLDwSGjyOEg4AEzkaYgo4vjqmjqOzsiu3AA0UJzmALYQunTcmJwA5nTuxImUKdBwRZlEOQUjGSV4ZSgVAIz1jS1tHd29-UlAA" target="_blank" rel="noreferrer">TS Playground</a></li></ul><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h2><p>å°±åƒå­—ç¬¦ä¸²å¯ä»¥åŒ¹é…ä¸€ä¸ªæ¨¡å¼ä¸²æå–å­ç»„ä¸€æ ·ï¼ŒTypeScript ç±»å‹ä¹Ÿå¯ä»¥åŒ¹é…ä¸€ä¸ªæ¨¡å¼ç±»å‹æå–æŸä¸ªéƒ¨åˆ†çš„ç±»å‹ã€‚</p><p><strong>TypeScript ç±»å‹çš„æ¨¡å¼åŒ¹é…æ˜¯é€šè¿‡ç±»å‹ <code>extends</code> ä¸€ä¸ªæ¨¡å¼ç±»å‹ï¼ŒæŠŠéœ€è¦æå–çš„éƒ¨åˆ†æ”¾åˆ°é€šè¿‡ <code>infer</code> å£°æ˜çš„å±€éƒ¨å˜é‡é‡Œï¼Œåé¢å¯ä»¥ä»è¿™ä¸ªå±€éƒ¨å˜é‡æ‹¿åˆ°ç±»å‹åšå„ç§åç»­å¤„ç†ã€‚</strong> ğŸ‰</p><p>æ¨¡å¼åŒ¹é…çš„å¥—è·¯åœ¨æ•°ç»„ã€å­—ç¬¦ä¸²ã€å‡½æ•°ã€æ„é€ å™¨ã€ç´¢å¼•ç±»å‹ã€Promise ç­‰ç±»å‹ä¸­éƒ½æœ‰å¤§é‡çš„åº”ç”¨ï¼ŒæŒæ¡å¥½è¿™ä¸ªå¥—è·¯èƒ½æå‡å¾ˆå¤§ä¸€æˆªç±»å‹ä½“æ“æ°´å¹³ã€‚</p><ul><li><a href="https://www.typescriptlang.org/play?#code/PTAEm8fRo9UZXlFmTR1TUPexgAOUFj-pCEVoeH1CcyoWUTAtBUAXjQNeUAoMkUABQCcB7AWwEsBnAUwC4yAXATwAO7UAHF2PAGoBDADYBXdgBVB7ADzUAfKAC8NUOwAePdgDsAJqxoMWHVcxMAzdrVDT57LQH5XshaE6gJuwAbs4A3BT8QqLibgoASuyscjI8OjGSvkoq6tZsagDkAOZyUiZFBRoaERRUgA6mgCN+qLVgYjwAYsy0rDy8Khmd3TyqAIK0LobG5pZyJgDWJvQA7iYA2gC6WrpjE0amFqCr9k4ugz0ANKAAdDezC8tr6+ug3mdpAUGhtDVRwm1viWSqXS-y6PVUqwAjOcAEznADMmwivwGYJ4gJSPBhIPEbwhSJaGQAMlIen1om0SeCdvo9tNQHdFisNltQDTJvtLKsbldGQ8Npdjs5QFSeM9vKL-IEQuFIv1KaT0UlMTieKKIdC4YjquS-uJRRjUtjdArwSyalRqPQBDtdTRrTtRuNaVMDnzmZt0uy6QcNi9Ds8At7XVyeUKXICeJd3SZxaBI1LPrK7VaBIa0rpU46obCEQSUan08b7TbxvidYSAMoAC2YDh4tpRNbrDbLwc5DPmTMerPb9L93j9QedHP7McuYccwsjcYTHxl3zl0Wb9fT6RXrdoGtz2uR-Q3RfXtfr2YJlDAgHVtQBk3oAmOWa59AlZ4UloPFYAHVmDxq9wm8-Xx+X7VqoT67CGoA9LQ9hFJcdDsA4zAGC6HaQdBrKgch9IAAYACQAN5wQhBgAL74ah5TEVh-o8LQfgBA4sgcD8+7-m+n7fmuuhPi+bFAaoxSlOUoBlGYoBmPQ5QFJcAllBUOp-jxgEccqRrrqxSnATJQkiWJEkVNJ4mSRWD6JAIMhSAAxlwdqmeZVmgSBNGYQc5EwaA7TWM5liuZcij0F5EE0Wh6SPk5o4HLheHhlY8GIaReEeUw8XRZWcgOERlH+pFhFxfhfnxal6VxVRASgcx0S2ZZ7CcfG7BmVVDkAEQiIJRQlLJBSWAARkkaQOFB+ygGwLyNZcjWeKNoCNQAInphlFI18n9JVVmHroK3sE1UhdRZk3jXts3lPNi01A+ihQYwv79OdzCMKB8TMEU1bDBh4XeUF5ToWFPqWJF0WRvFBSgEDAA+wMADomKDEM8AUmXeDdd00Q9T3DJGWilTR5XCIjKPPTViP3Y9z38e1QmgBTlPAxWKKEzRRLwS933ga5X1gR2kVA9DBSQ9z4Ow8lU4Rr18OgHTtAM-Wqjo1KZVLjjF2S0qQIZmLF2gUr-FUxT82VNjau3Q5r0-YFUGfTo4t48M4ua6BVT67jKmq+LWva-NlN6xQD6AL+KdT3lQbTUC+UiMOIzisHagfB6HxjdKo7SzBZAUJyYFk8MwEmsinSdvaAAAUPIvkUrABNFYzFwAlDoWgxv65eWPOXz60HtAh2H3Q1VHrcx+Hqh5yYbcBD5wlFFwgRyIwPW0FX2haKze7RC3bex6wa0ZEvPdx3nM9zx9RQVgH4iJDwci0CYyhCJHR-iKf585NnyeJ+nmfpA-ucFzcRcl8JJh8BsO9DSFrVE+Z8L7CG8MfW+YDEwLn1pA0BKhDTAhNNfEBd8hB9wHqHIee8AEFF1gfVo4hFC1lYBvduYCyAWXMqwSwh0iigDwmQKmWCx6uRqFTCyElIJyDTvQWg29GHMO1hTb8bArisPSI1Y6EQqbEQoFTas7AZAyHoHnMR396FVyYSIimtAb5n2BkolR9BLgAElwYFEYMDUAABqUAGiJFt1kZTeR8iqHcLSO7XQQQligHodvCI80rjGNUYEigwTQn0CuBZWQMg854QMEkzgkJiIV31m0EhbByGxzAaoRQrJFABXUaQ0uQCsmsDAROT+tBi4BDKH-dYACGn+gqdAgIMYMnENITk5wYDASqgqb02geTfj0AcLpcoITlGqMIaAQAIeaAAIEwAFmr+yITwMxJgehlCspQlEbRNnbNTtkDBABhTxtE+EjP6LnXx+dC61O-g05pv8tDCIproc5WyaK8J4Pw6Btz2B+I-lcL+9Tf4AOioc58xzoHvO1t4aFOyTnCHhVTcFfAaj2FjgxKyNBw4SSESwweptoIRHcdi5wuLhDUAJSYL5PCrlEspr4-uJLXIVwCLS7oElyXywyEi2FiCkiqkFbsnI3LWASQZT8q5cy2gysuX82gwyI77PEIq35-DVWqHhZqq5AKTZ3JBWCn+fAXl8DIKyfVyrDXgWNQ8upgCTg0Gju3SpKgLXwu8Kqyh6LpRN35Qqi5WqVVupXgMlBPAbXavDb3SV0qQ1yotGAQARL6AFR9KAzRD5KgcHQa0Jcr65vzQIVguQC2snhQUfRDgga5zmOwPg4yrAFrRZTH1DBS0BTwqAGtngykuriMIMGswzCxSCGYeRuiEU+HcG2kRjdnDzpgYGotiQ82dtXiKqN66S1lp7X2gI0JAgkvwXpOGNN5TXw3QWwExY2i7s3aoA98F+2djHQhCdlxWEBDPZJYiFYgA" target="_blank" rel="noreferrer">TS Playgroundåˆé›†</a></li></ul><p><img src="'+T+'" alt="æ¨¡å¼åŒ¹é…æ€»ç»“"></p><p>2023å¹´03æœˆ07æ—¥15:42:29</p>',174),k=[P];function R(x,Q,q,I,v,G){return l(),p("div",null,k)}const J=n(S,[["render",R]]);export{K as __pageData,J as default};
