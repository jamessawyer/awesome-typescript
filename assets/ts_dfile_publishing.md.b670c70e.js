import{_ as s,c as a,o as n,b as o}from"./app.758655e4.js";const u=JSON.parse('{"title":"Publishing","description":"","frontmatter":{"title":"Publishing"},"headers":[{"level":2,"title":"1ï¸âƒ£ åœ¨ä½ çš„npmåŒ…ä¸­åŒ…å«å£°æ˜","slug":"_1ï¸âƒ£-åœ¨ä½ çš„npmåŒ…ä¸­åŒ…å«å£°æ˜","link":"#_1ï¸âƒ£-åœ¨ä½ çš„npmåŒ…ä¸­åŒ…å«å£°æ˜","children":[]},{"level":2,"title":"2ï¸âƒ£ ä¾èµ–","slug":"_2ï¸âƒ£-ä¾èµ–","link":"#_2ï¸âƒ£-ä¾èµ–","children":[]},{"level":2,"title":"3ï¸âƒ£ Red flags","slug":"_3ï¸âƒ£-red-flags","link":"#_3ï¸âƒ£-red-flags","children":[{"level":3,"title":"åŒ…ä¾èµ–å£°æ˜","slug":"åŒ…ä¾èµ–å£°æ˜","link":"#åŒ…ä¾èµ–å£°æ˜","children":[]}]},{"level":2,"title":"4ï¸âƒ£ ä½¿ç”¨ typesVersion è¿›è¡Œç‰ˆæœ¬é€‰æ‹©","slug":"_4ï¸âƒ£-ä½¿ç”¨-typesversion-è¿›è¡Œç‰ˆæœ¬é€‰æ‹©","link":"#_4ï¸âƒ£-ä½¿ç”¨-typesversion-è¿›è¡Œç‰ˆæœ¬é€‰æ‹©","children":[{"level":3,"title":"4.1 æ–‡ä»¶å¤¹é‡å®šå‘ï¼ˆä½¿ç”¨ *ï¼‰","slug":"_4-1-æ–‡ä»¶å¤¹é‡å®šå‘-ä½¿ç”¨","link":"#_4-1-æ–‡ä»¶å¤¹é‡å®šå‘-ä½¿ç”¨","children":[]},{"level":3,"title":"4.2 æ–‡ä»¶é‡å®šå‘","slug":"_4-2-æ–‡ä»¶é‡å®šå‘","link":"#_4-2-æ–‡ä»¶é‡å®šå‘","children":[]}]},{"level":2,"title":"5ï¸âƒ£ åŒ¹é…è¡Œä¸º","slug":"_5ï¸âƒ£-åŒ¹é…è¡Œä¸º","link":"#_5ï¸âƒ£-åŒ¹é…è¡Œä¸º","children":[]},{"level":2,"title":"6ï¸âƒ£ å¤šä¸ªå­—æ®µ","slug":"_6ï¸âƒ£-å¤šä¸ªå­—æ®µ","link":"#_6ï¸âƒ£-å¤šä¸ªå­—æ®µ","children":[]},{"level":2,"title":"7ï¸âƒ£ å‘å¸ƒåˆ° @types","slug":"_7ï¸âƒ£-å‘å¸ƒåˆ°-types","link":"#_7ï¸âƒ£-å‘å¸ƒåˆ°-types","children":[]}],"relativePath":"ts/dfile/publishing.md","lastUpdated":1678257005000}'),l={name:"ts/dfile/publishing.md"},p=o(`<nav class="table-of-contents"><ul><li><a href="#_1ï¸âƒ£-åœ¨ä½ çš„npmåŒ…ä¸­åŒ…å«å£°æ˜">1ï¸âƒ£ åœ¨ä½ çš„npmåŒ…ä¸­åŒ…å«å£°æ˜</a></li><li><a href="#_2ï¸âƒ£-ä¾èµ–">2ï¸âƒ£ ä¾èµ–</a></li><li><a href="#_3ï¸âƒ£-red-flags">3ï¸âƒ£ Red flags</a><ul><li><a href="#åŒ…ä¾èµ–å£°æ˜">åŒ…ä¾èµ–å£°æ˜</a></li></ul></li><li><a href="#_4ï¸âƒ£-ä½¿ç”¨-typesversion-è¿›è¡Œç‰ˆæœ¬é€‰æ‹©">4ï¸âƒ£ ä½¿ç”¨ typesVersion è¿›è¡Œç‰ˆæœ¬é€‰æ‹©</a><ul><li><a href="#_4-1-æ–‡ä»¶å¤¹é‡å®šå‘-ä½¿ç”¨">4.1 æ–‡ä»¶å¤¹é‡å®šå‘ï¼ˆä½¿ç”¨ *ï¼‰</a></li><li><a href="#_4-2-æ–‡ä»¶é‡å®šå‘">4.2 æ–‡ä»¶é‡å®šå‘</a></li></ul></li><li><a href="#_5ï¸âƒ£-åŒ¹é…è¡Œä¸º">5ï¸âƒ£ åŒ¹é…è¡Œä¸º</a></li><li><a href="#_6ï¸âƒ£-å¤šä¸ªå­—æ®µ">6ï¸âƒ£ å¤šä¸ªå­—æ®µ</a></li><li><a href="#_7ï¸âƒ£-å‘å¸ƒåˆ°-types">7ï¸âƒ£ å‘å¸ƒåˆ° @types</a></li></ul></nav><p>å‡è®¾ä½ æŒ‰ç…§æŒ‡å—å·²ç»å†™äº†ä¸€ä¸ªå£°æ˜æ–‡ä»¶ï¼Œç°åœ¨è¯¥å°†å®ƒå‘å¸ƒåˆ°npmä¸Šäº†ã€‚ä¸»è¦æœ‰2ç§å°†å£°æ˜æ–‡ä»¶å‘å¸ƒåˆ°npmçš„æ–¹å¼ï¼š</p><ol><li>æ‰“åŒ…ä½ çš„npmåŒ…</li><li>å‘å¸ƒåˆ°npmä¸Šçš„ <a href="https://www.npmjs.com/~types" target="_blank" rel="noreferrer">@types ç»„ç»‡</a></li></ol><p>å¦‚æœä½ çš„ç±»å‹æ˜¯é€šè¿‡ä½ çš„æºä»£ç ç”Ÿæˆçš„ï¼Œå‘å¸ƒæºä»£ç +ç±»å‹ã€‚TypeScriptå’ŒJavaScripté¡¹ç›®éƒ½èƒ½é€šè¿‡ <a href="./../tsconfig/compiler/emit.html#declaration-ğŸ‘">declaration</a> ç¼–è¯‘é€‰é¡¹ç”Ÿæˆç±»å‹ğŸ˜ã€‚</p><p>å¦åˆ™ï¼Œæˆ‘ä»¬æ¨èå°†ç±»å‹æäº¤åˆ° <code>DefinitelyTyped</code>ï¼Œå®ƒä¼šå°†ç±»å‹å‘å¸ƒåˆ°npmä¸Šçš„ <code>@types</code> ç»„ç»‡ã€‚</p><h2 id="_1ï¸âƒ£-åœ¨ä½ çš„npmåŒ…ä¸­åŒ…å«å£°æ˜" tabindex="-1">1ï¸âƒ£ åœ¨ä½ çš„npmåŒ…ä¸­åŒ…å«å£°æ˜ <a class="header-anchor" href="#_1ï¸âƒ£-åœ¨ä½ çš„npmåŒ…ä¸­åŒ…å«å£°æ˜" aria-hidden="true">#</a></h2><p>å¦‚æœä½ çš„åŒ…ç”±ä¸€ä¸ªä¸»å…¥å£ <code>.js</code> æ–‡ä»¶ï¼Œåˆ™ä½ éœ€è¦åœ¨ <code>package.json</code> ä¸­ä¹ŸæŒ‡æ˜ä¸»è¦çš„å£°æ˜æ–‡ä»¶ã€‚ğŸ“š è®¾ç½® <code>types</code> å±æ€§æŒ‡å‘æ‰“åŒ…å¥½çš„å£°æ˜æ–‡ä»¶ã€‚æ¯”å¦‚ï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">awesome</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">author</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Vandelay Industries</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./lib/main.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// åŒ…çš„ä¸»å…¥å£æ–‡ä»¶</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">types</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./lib/main.d.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// å£°æ˜æ–‡ä»¶ä½ç½®</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>æ³¨æ„ <code>typings</code> å­—æ®µå’Œ <code>types</code> åŒä¹‰ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>typings</code>ã€‚</p><p>å¦å¤–ï¼Œå¦‚æœä½ çš„ä¸»è¦å£°æ˜æ–‡ä»¶å« <code>index.d.ts</code>ï¼Œå¹¶å­˜æ”¾åœ¨åŒ…çš„æ ¹ç›®å½•ï¼ˆç´§é ç€ <code>index.js</code>ï¼‰åˆ™ä½ ä¸éœ€è¦æ ‡è®° <code>types</code> å±æ€§ï¼Œä½†è¿˜æ˜¯å»ºè®®æ˜¾å¼çš„æ ‡å‡ºå£°æ˜æ–‡ä»¶è·¯å¾„ã€‚</p></div><h2 id="_2ï¸âƒ£-ä¾èµ–" tabindex="-1">2ï¸âƒ£ ä¾èµ– <a class="header-anchor" href="#_2ï¸âƒ£-ä¾èµ–" aria-hidden="true">#</a></h2><p>ğŸ“šæ‰€æœ‰çš„ä¾èµ–éƒ½é€šè¿‡npmç®¡ç†ã€‚ç¡®ä¿ä½ æ‰€ä¾èµ–çš„æ‰€æœ‰ <code>å£°æ˜åŒ…</code> éƒ½åœ¨ <code>package.json</code> çš„ <code>dependencies</code> ä¸­åˆé€‚çš„æ ‡è®°å‡ºæ¥ã€‚</p><p>ğŸŒ°ï¼Œå‡è®¾ä½ å†™äº†ä¸€ä¸ªåŒ…ï¼Œä¾èµ–<code>Browserify</code> å’Œ <code>TypeScript</code>:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">browserify-typescript-extension</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">author</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Vandelay Industries</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./lib/main.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">types</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./lib/main.d.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">dependencies</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">browserify</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">latest</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">@types/browserify</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">latest</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">typescript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">next</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>ğŸ¤© è¿™é‡Œæˆ‘ä»¬çš„åŒ…ä¾èµ– <code>browserify</code> &amp; <code>typescript</code>åŒ…ã€‚<code>browserify</code> æœ¬èº«æ²¡æœ‰å°†å®ƒçš„å£°æ˜æ–‡ä»¶å’ŒåŒ…æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¾èµ– <code>@types/browserify</code> ä½œä¸ºå®ƒçš„å£°æ˜ã€‚<code>typescript</code> åŒ…åˆ™æœ¬èº«å°±åŒ…å«äº†å£°æ˜æ–‡ä»¶ï¼Œå› æ­¤ä¸éœ€è¦é¢å¤–çš„ä¾èµ–äº†ã€‚</p><p>æˆ‘ä»¬çš„åŒ…å…¬å¼€äº†å…¶ä¸­æ¯ä¸€ä¸ªçš„å£°æ˜ï¼Œå› æ­¤ä»»ä½•ä½¿ç”¨<code>browserify-typescript-extension</code>åŒ…çš„ç”¨æˆ·ä¹Ÿéœ€è¦æœ‰è¿™äº›ä¾èµ–é¡¹ğŸ˜…ã€‚åŸºäºè¿™ä¸ªåŸå› ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>&quot;dependencies&quot;</code> è€Œä¸æ˜¯ <code>&quot;devDependencies&quot;</code>ï¼Œ å¦åˆ™æˆ‘ä»¬çš„ç”¨æˆ·éœ€è¦æ‰‹åŠ¨çš„ä¸‹è½½å®‰è£…è¿™äº›åŒ…ã€‚å¦‚æœæˆ‘ä»¬ä»…ä»…æ˜¯å†™ä¸€ä¸ªCLIåº”ç”¨ï¼Œè€Œä¸æœŸæœ›æˆ‘ä»¬çš„åŒ…ç”¨ä½œä¸ºä¸€ä¸ªåº“ï¼Œæˆ‘ä»¬å¯èƒ½ä½¿ç”¨ <code>devDependencies</code>ã€‚</p><h2 id="_3ï¸âƒ£-red-flags" tabindex="-1">3ï¸âƒ£ Red flags <a class="header-anchor" href="#_3ï¸âƒ£-red-flags" aria-hidden="true">#</a></h2><p>âŒ <code>ä¸è¦</code> åœ¨ä½ çš„å£°æ˜æ–‡ä»¶ä¸­ä½¿ç”¨ <code>/// &lt;reference path=&quot;...&quot; /&gt;</code></p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line highlighted"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">reference</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">path</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">../typescript/lib/typescriptServices.d.ts</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">....</span></span>
<span class="line"></span></code></pre></div><p>âœ… <code>è¦</code> ä½¿ç”¨ <code>/// &lt;reference types=&quot;...&quot; /&gt;</code>:</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line highlighted"><span style="color:#676E95;font-style:italic;">/// </span><span style="color:#89DDFF;font-style:italic;">&lt;</span><span style="color:#F07178;font-style:italic;">reference</span><span style="color:#89DDFF;font-style:italic;"> </span><span style="color:#C792EA;font-style:italic;">types</span><span style="color:#89DDFF;font-style:italic;">=</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#C3E88D;font-style:italic;">typescript</span><span style="color:#89DDFF;font-style:italic;">&quot;</span><span style="color:#89DDFF;font-style:italic;"> /&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">....</span></span>
<span class="line"></span></code></pre></div><p>ç¡®ä¿åœ¨å›é¡¾ä¸€ä¸‹ <a href="./library-structure.html#_6ï¸âƒ£-æ¶ˆè´¹ä¾èµ–">Cousuming dependencies</a> äº†è§£æ›´å¤šã€‚</p><h3 id="åŒ…ä¾èµ–å£°æ˜" tabindex="-1">åŒ…ä¾èµ–å£°æ˜ <a class="header-anchor" href="#åŒ…ä¾èµ–å£°æ˜" aria-hidden="true">#</a></h3><p>å¦‚æœä½ çš„ç±»å‹å®šä¹‰ä¾èµ–å¦ä¸€ä¸ªåŒ…ï¼š</p><ul><li>âŒ <code>ä¸è¦</code> å°†å®ƒå’Œä½ çš„ç±»å‹å®šä¹‰åˆå¹¶ï¼Œä¿æŒå®ƒä»¬åœ¨å„è‡ªæ–‡ä»¶ä¸­</li><li>âŒ <code>ä¸è¦</code> å°†å£°æ˜æ‹·è´åˆ°ä½ çš„çš„åŒ…ä¸­</li><li>âœ… å¦‚æœnpmç±»å‹å£°æ˜åŒ…æ²¡æœ‰æ‰“åŒ…å®ƒçš„å£°æ˜æ–‡ä»¶ï¼Œåˆ™å¿…é¡»ä¾èµ–npmç±»å‹å£°æ˜åŒ…</li></ul><h2 id="_4ï¸âƒ£-ä½¿ç”¨-typesversion-è¿›è¡Œç‰ˆæœ¬é€‰æ‹©" tabindex="-1">4ï¸âƒ£ ä½¿ç”¨ <code>typesVersion</code> è¿›è¡Œç‰ˆæœ¬é€‰æ‹© <a class="header-anchor" href="#_4ï¸âƒ£-ä½¿ç”¨-typesversion-è¿›è¡Œç‰ˆæœ¬é€‰æ‹©" aria-hidden="true">#</a></h2><p>å½“TypeScriptæ‰“å¼€ <code>package.json</code> æ–‡ä»¶ç†æ¸…å®ƒéœ€è¦è¯»å–å“ªä¸ªæ–‡ä»¶æ—¶ï¼Œå®ƒé¦–å…ˆæŸ¥çœ‹ <code>typesVersions</code> å­—æ®µã€‚</p><h3 id="_4-1-æ–‡ä»¶å¤¹é‡å®šå‘-ä½¿ç”¨" tabindex="-1">4.1 æ–‡ä»¶å¤¹é‡å®šå‘ï¼ˆä½¿ç”¨ <code>*</code>ï¼‰ <a class="header-anchor" href="#_4-1-æ–‡ä»¶å¤¹é‡å®šå‘-ä½¿ç”¨" aria-hidden="true">#</a></h3><p>åŒ…å« <code>typesVersions</code> çš„ <code>package.json</code> æ–‡ä»¶å¯èƒ½çœ‹èµ·æ¥å¦‚ä¸‹ï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">package-name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">types</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./index.d.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">typesVersions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">&gt;=3.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts3.1/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>ğŸ“šè¿™ä¸ª <code>package.json</code> å‘Šè¯‰TypeScripté¦–å…ˆæ£€æµ‹å½“å‰TypeScriptç‰ˆæœ¬ã€‚å¦‚æœå®ƒæ˜¯ <code>3.1+</code>ï¼ŒTypeScriptä¼šæ‰¾å‡ºç›¸å¯¹ä½ åŒ…çš„å¯¼å…¥è·¯å¾„ï¼Œç„¶åä»åŒ…çš„ <code>ts3.1</code> æ–‡ä»¶å¤¹ä¸­è¯»å–ã€‚</p><p>è¿™æ­£æ˜¯ <code>{&quot;*&quot;: [&quot;ts3.1/*&quot;]}</code> çš„å«ä¹‰ - å¦‚æœä½ ç†Ÿæ‚‰ <a href="./../tsconfig/compiler/modules.html#paths-ğŸ‘">pathæ˜ å°„</a>ï¼Œå®ƒå·¥ä½œåŸç†ç±»ä¼¼ã€‚</p><p>ä¸Šé¢ä¾‹å­ï¼Œå¦‚æœä½ ä» <code>&quot;package-name&quot;</code> å¯¼å…¥ï¼Œå½“è¿è¡ŒTS3.1æ—¶ï¼ŒTypeScriptå°†ä» <code>[...]/node_modules/package-name/ts3.1/index.d.ts</code> ï¼ˆå’Œå…¶å®ƒç›¸å¯¹è·¯å¾„ï¼‰è§£æã€‚å¦‚æœä» <code>package-name/foo</code> å¯¼å…¥ï¼Œæˆ‘ä»¬å°†æŸ¥æ‰¾ <code>[...]/node_modules/package-name/ts3.1/foo.d.ts</code> å’Œ <code>[...]/node_modules/package-name/ts3.1/foo/index.d.ts</code> æ–‡ä»¶ã€‚</p><p>å‡å¦‚ä½ æ²¡æœ‰è¿è¡ŒTS3.1å‘¢ï¼Ÿå¦‚æœæ²¡æœ‰åŒ¹é…ä¸Š <code>typesVersions</code>ï¼ŒTypeScriptå°†å†å›é€€åˆ° <code>types</code> å­—æ®µï¼Œå› æ­¤<code>TS3.0</code>åŠä»¥ä¸‹ç‰ˆæœ¬å°†é‡å®šå‘åˆ° <code>[...]/node_modules/package-name/index.d.ts</code> æ–‡ä»¶ã€‚</p><h3 id="_4-2-æ–‡ä»¶é‡å®šå‘" tabindex="-1">4.2 æ–‡ä»¶é‡å®šå‘ <a class="header-anchor" href="#_4-2-æ–‡ä»¶é‡å®šå‘" aria-hidden="true">#</a></h3><p>å½“ä½ åªæƒ³å¯¹æ”¹å˜æŸä¸ªæ–‡ä»¶æ—¶ï¼Œä½ å¯ä»¥å‘Šè¯‰TypeScriptè¦è§£æçš„æ–‡ä»¶ä¸åŒäºä¼ å…¥çš„ç¡®åˆ‡æ–‡ä»¶åï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">package-name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">types</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./index.d.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">typesVersions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">&lt;4.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">index.d.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">index.v3.d.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>å¯¹<code>TS4.0+</code>ï¼Œå¯¼å…¥ <code>&quot;package-name&quot;</code> å°†è§£æä¸º <code>./index.d.ts</code>ï¼Œå¯¹ <code>TS3.9-</code> å°†è§£æä¸º <code>&quot;./index.v3.d.ts&quot;</code>ã€‚</p><h2 id="_5ï¸âƒ£-åŒ¹é…è¡Œä¸º" tabindex="-1">5ï¸âƒ£ åŒ¹é…è¡Œä¸º <a class="header-anchor" href="#_5ï¸âƒ£-åŒ¹é…è¡Œä¸º" aria-hidden="true">#</a></h2><p>TypeScriptå†³å®šç¼–è¯‘å™¨å’Œè¯­è¨€ç‰ˆæœ¬æ˜¯å¦åŒ¹é…çš„æ–¹æ³•æ˜¯ä½¿ç”¨Nodeçš„<a href="https://github.com/npm/node-semver#ranges" target="_blank" rel="noreferrer">semver ranges</a>ã€‚</p><h2 id="_6ï¸âƒ£-å¤šä¸ªå­—æ®µ" tabindex="-1">6ï¸âƒ£ å¤šä¸ªå­—æ®µ <a class="header-anchor" href="#_6ï¸âƒ£-å¤šä¸ªå­—æ®µ" aria-hidden="true">#</a></h2><p>ğŸ“š <code>typesVersions</code> æ”¯æŒå¤šä¸ªå­—æ®µï¼Œæ¯ä¸ªå­—æ®µåæŒ‡å®šä¸€ä¸ªåŒ¹é…åŒºé—´ï¼š</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">package-name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">types</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./index.d.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">typesVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">&gt;=3.2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts3.2/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">},</span></span>
<span class="line highlighted"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">&gt;=3.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts3.1/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">}</span></span>
<span class="line highlighted"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>å› ä¸ºèŒƒå›´å¯èƒ½é‡å ï¼Œå†³å®šå¯¼å…¥é‚£ä¸ªæ–‡ä»¶<code>å’ŒæŒ‡å®šçš„é¡ºåºæœ‰å…³</code>ã€‚è¿™æ„å‘³ç€ï¼Œä¸Šé¢çš„ä¾‹å­ï¼Œå³ä½¿ <code>&gt;=3.2</code> å’Œ <code>&gt;=3.1</code> åŒæ—¶åŒ¹é…æ”¯æŒTS3.2å’Œä»¥ä¸Šï¼Œ<code>åè½¬é¡ºåºä¼šå¯¼è‡´ä¸åŒçš„è¡Œä¸º</code>ğŸ˜…ã€‚å› æ­¤ä¸Šé¢çš„ä¾‹å­ä¸ç­‰ä»·äºï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight has-highlighted-lines" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">package-name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">types</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./index.d.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">typesVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">// ğŸš¨ è¿™ä¸èƒ½æ­£å¸¸å·¥ä½œï¼é¡ºåºå¾ˆé‡è¦ï¼ï¼ï¼</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">&gt;=3.1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts3.1/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]},</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">&gt;=3.2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts3.2/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]}</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="_7ï¸âƒ£-å‘å¸ƒåˆ°-types" tabindex="-1">7ï¸âƒ£ å‘å¸ƒåˆ° @types <a class="header-anchor" href="#_7ï¸âƒ£-å‘å¸ƒåˆ°-types" aria-hidden="true">#</a></h2><p>åœ¨ <a href="https://www.npmjs.com/~types" target="_blank" rel="noreferrer">@types</a>ç»„ç»‡ä¸‹çš„åŒ…ä¼šé€šè¿‡ <a href="https://github.com/microsoft/DefinitelyTyped-tools/tree/master/packages/publisher" target="_blank" rel="noreferrer">types-publisherå·¥å…·</a> è‡ªåŠ¨ä» <a href="https://github.com/DefinitelyTyped/DefinitelyTyped" target="_blank" rel="noreferrer">DefinitelyTyped</a> å‘å¸ƒã€‚ä¸ºäº†è®©ä½ çš„å£°æ˜ä½œä¸º @typesåŒ…è¢«å‘å¸ƒï¼Œè¯·å‘ <a href="https://github.com/DefinitelyTyped/DefinitelyTyped" target="_blank" rel="noreferrer">DefinitelyTyped</a> æä¾›ä¸€ä¸ªPR.</p><p>åŸæ–‡æ¡£ï¼š</p><ul><li><a href="https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html" target="_blank" rel="noreferrer">Publishing</a></li></ul><p>2022å¹´09æœˆ04æ—¥17:35:57</p>`,49),e=[p];function t(c,r,D,y,F,i){return n(),a("div",null,e)}const h=s(l,[["render",t]]);export{u as __pageData,h as default};
